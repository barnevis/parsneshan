## پرامپت ۱
من می‌خوام یک مفسر مارک‌دوان شخصی‌سازی شده برای زبان فارسی بنویسم، تا بتونم در پروژه‌های مختلف ازش استفاده کنم. مثلا یک ویرایشگر مارک‌دوان فارسی با نام پارسی‌نگار دارم که می‌خوام توی اون ازش استفاده کنم.

ازت می‌خوام فعلا بهم کمک کنی و فقط این مفسر رو بنویسم.

## پرامپت ۲
در کنسول مرورگر خطاهای زیر نمایش داده می‌شه:

```js
GET
https://cdnjs.cloudflare.com/ajax/libs/markdown-it/14.1.0/markdown-it.min.js
NS_ERROR_CORRUPTED_CONTENT
The resource from “https://cdnjs.cloudflare.com/ajax/libs/markdown-it/14.1.0/markdown-it.min.js” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).
127.0.0.1:8000
Loading failed for the <script> with source “https://cdnjs.cloudflare.com/ajax/libs/markdown-it/14.1.0/markdown-it.min.js”. 127.0.0.1:8000:73:94
Uncaught TypeError: window.markdownit is not a function
    <anonymous> http://127.0.0.1:8000/:77
`127.0.0.1:8000:77:23`
```

## پرامپت ۳
خب مشکل بر طرف شد، برای مفسر هم اسم «پارس‌نشان» را انتخاب کردم.

> پس از این پرامپت خود مدل افزونه برجسته (highlight) کردن را ایجاد کرد.

## پرامپت ۴
خب ازت می‌خوام جعبه‌های توضیحی زیر را پیاده‌سازی کنی:
1. هشدار: با نویسه‌های «...هشدار» آغاز بشه و پایانش هم «...» باشه.
2. توجه: با نویسه‌های «...توجه» آغاز بشه و پایانش هم «...» باشه.
3. نکته: با نویسه‌های «...نکته» آغاز بشه و پایانش هم «...» باشه. 
4. مهم: با نویسه‌های «...مهم» آغاز بشه و پایانش هم «...» باشه.
5. احتیاط: با نویسه‌های «...احتیاط» آغاز بشه و پایانش هم «...» باشه.

می‌خوام مشابه گیت‌هاب پیاده‌سازی بشن.

## پرامپت ۵
با توجه به اینکه زبان پیش‌فرض این مفسر فارسیه من در css بخش `admonition` کد `border-left` را به `border-right` تغییر دادم.

حالا می‌خوام قابلیت بازبینه (checklist) را با سینتکس «- [ ]» اضافه کنی. دقت کن می‌خوام امکان ایجاد بازبینه‌های تودرتو وجود داشته باشه.

## پرامپت ۶
یک مشکل وجود داره، زمانیکه در سمت چپ مارک‌دوان نمایش داده میشه نویسه‌های «[ ]» ابتدای متن بازبینه نمایش داده می‌شه.

## پرامپت ۷
برای نمایش لیست‌های مرتب در مارک‌دوان حتما باید اعداد به انگلیسی وارد بشن، می‌خوام قابلیتی اضافه کنی که با وارد کردن عدد فارسی هم امکان نمایش لیست مرتب وجود داشته باشه. از لیست مرنب تودرتو هم پشتیبانی کنه.

## پرامپت ۸
حالا می‌خوام قابلیت نمایش شعر را پباده‌سازی کنی.

...شعر
این کوزه چو من عاشقِ زاری بوده‌ست
در بندِ سرِ زلفِ نگاری بوده‌ست

این دسته که بر گردنِ او می‌بینی
دستی‌ست که بر گردنِ یاری بوده‌ست
...

## پرامپت ۹
در قالب شعر نمی‌خوام پس‌زمینه‌ای وجود داشته باشه. و اینکه هر بیت باید در یک خط نمایش داده بشه و مصرع‌ها با یک فاصله مناسب از هم جدا بشن.

## پرامپت ۱۰
تغییراتی که دادی خیلی خوب دو مصرع یک بیت را در یک خط قرار داده. اما مشکلی که وجود داره اینکه چون تعداد واژه‌های در مصرع‌ها متفاوته مصرع‌های یک شعر در یک راستا نیستن که باعث می‌شه خوانایی کم بشه.

به طور نمونه مصرع‌های شعر زیر در یک راستا نیستن و خوندن شعر را سخت می‌کنه.

دیده دریا کُنَم و صبر به صحرا فِکَنَم
وَاندر این کار دلِ خویش به دریا فِکَنَم

از دلِ تنگِ گنهکار برآرم آهی
کآتش اندر گُنَهِ آدم و حوا فکنم

مایهٔ خوشدلی آنجاست که دلدار آنجاست
می‌کنم جهد که خود را مگر آنجا فکنم

بِگُشا بندِ قَبا ای مَهِ خورشید کُلاه
تا چو زلفت سَرِ سودا زده در پا فکنم

خورده‌ام تیرِ فلک، باده بده تا سرمست
عُقده در بندِ کَمرتَرکشِ جوزا فکنم

جرعهٔ جام بر این تختِ روان افشانم
غُلغُلِ چنگ در این گنبدِ مینا فکنم

حافظا تکیه بر ایّام چو سهو است و خطا
من چرا عِشرتِ امروز به فردا فکنم؟

## پرامپت ۱۱
قالب‌بندی‌های زیر به صورت درست در «زمین‌بازی پارس‌نشان» نمایش داده نمی‌شه:
1. نقل‌قول: داخل تگ blockquote قرار گرفته اما هیچ استایلی نداره.
2. کد تک خطی و چند خطی: داخل تگ code قرار گرفته اما استایل نداره.
3. جدول: داخل تگ table قرار گرفته اما هیچ استایلی نداره

آیا این‌ها هم باید جزوی از کتابخانه پارس‌نشان باشه یا مربوط به ویرایشگر پارسی‌نگار است؟

## پرامپت ۱۲
خب من می‌خوام کاربر بتونه هم به فارسی بنویسه و هم انگلیسی و به صورت خودکار جهت متن در هر خط تشخیص داده بشه. آیا این کار هم جزوی از وظایف پارس‌نشان است؟

## پرامپت ۱۳
تغییراتی که دادی به خوبی انجام شد اما در موارد زیر چب به راست به خوبی اعمال نمی‌شه:
1. لیست‌ها
2. جدول‌ها

## پرامپت ۱۴
خب حالا می‌خوام تبدیلش کنم به کتابخانه و به صورت متن‌باز با مجوز MIT در گیت‌هاب منتشرش کنم.

## پرامپت ۱۵
برای خود `markdown-it` یکسری افزونه نوشته شده، کاربر چطور می‌تونه این‌ها را به پارس‌نشان اضافه کنه؟

## پرامپت ۱۶
در فایل README برای تمام قالب‌های سفارشی شده نمونه اضافه کن تا مشخص باشه چطور باید از اون‌ها استفاده کرد.

یک فایل هم برای تاریخچه تغییرات برای نسخه ۱ بنویس.

> به مدل `opus 4.5` گفته شد پروژه را بررسی کند و مشکل‌های موجود را گزارش کند. پرامپت‌های ۱۷ تا ۲۸ برای رفع مشکل‌های اعلام شده است.

## پرامپت ۱۷
خب ازت می‌خوام مشکل «عدم پشتیبانی از محیط‌های مختلف» را بر طرف کنی.

## پرامپت ۱۸
حالا لطفا مشکل «تکرار استایل‌ها در CSS» را برطرف کن.

## پرامپت ۱۹
کدهای تکراری استایل را هم در فایل `index.html` پاک کن. البته اگر در نمایش صفحه مشکلی ایجاد نمی‌کنه.

## پرامپت ۲۰
خب حالا مشکل «کد admonition ناقص» را برطرف کن.

## پرامپت ۲۱
خب حالا ازت می‌خوام پیشنهادی که برای تفکیک فایل‌ها دادی را انجام بدی.

## پرامپت ۲۲
خب حالا می‌خوام بررسی کنی ببینی آیا نیاز به مستندات JSDoc هست یا نه؟ اگر نیازه اون‌ها رو بنویس. دقت کن که می‌خوام به فارسی نوشته بشه و از واژه‌های فارسی هم استفاده کن. مثلا از «افزونه» به جای «پلاگین» استفاده کن.

## پرامپت ۲۳
حالا مشکل «عدم مدیریت خطا» را بر طرف کن.

## پرامپت ۲۴
فایل package.json پروژه را بساز.

## پرامپت ۲۵
مشکل عملکردی تابع `detectDirection` را بر طرف کن.

## پرامپت ۲۶
مشکل دسترسی‌پذیری در بازبینه‌ها (`aria-label`) را بر طرف کن.

## پرامپت ۲۷
بهبود CSS که پیشنهاد دادی را انجام بده.
```css
/* استفاده از CSS Variables پیشنهاد می‌شود */
:root {
  --admonition-note-color: #58a6ff;
  --admonition-tip-color: #3fb950;
  /* ... */
}
```

## پرامپت ۲۸
برای رفع مشکل «فعال بودن HTML خام ممکن است خطر XSS ایجاد کند.» چه پیشنهادی داری؟

## پرامپت ۲۹
در فایل css استایل‌های مربوط به دمو و سایر عناصر مارک‌داون پایه وجود داره، آیا این‌ها باید جزوی از کتابخانه باشند یا اینکه باید جدا بشن؟

## پرامپت ۳۰
بهتر نیست برای مرتب شدن پوشه ریشه فایل‌های css در یک پوشه قرار بگیرند؟

## پرامپت ۳۱
خب با توجه به تغییرات جدید در بخش استایل‌ها آیا نیاز به بروزرسانی فایل README هست؟

## پرامپت ۳۲
بله مشکل را رفع کن، این مشکل را در مرورگر بررسی کردم و اونجا هم وجود داره.